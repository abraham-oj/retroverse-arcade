---
interface Props {
  id: string;
  title: string;
  description: string;
  color: string;
  display: string;
}

const { id, title, description, color, display } = Astro.props;

const borderClass = `border-${color}-500`;
const bgClass = `bg-${color}-600`;
---

<div
  data-game-card={id}
  class={`bg-gray-800 border-2 ${borderClass} p-4 rounded hover:scale-105 transition transform cursor-pointer hover:bg-gray-700`}
>
  <div class="h-32 bg-black flex items-center justify-center mb-4 border border-gray-700">
    {id === 'snake' && (
      <div class="text-green-500 text-4xl pixel-font">{display}</div>
    )}
    {id === 'pacman' && (
      <div class="text-yellow-400 text-5xl">ðŸ‘»</div>
    )}
    {id === 'space' && (
      <div class="text-cyan-400 text-5xl">ðŸš€</div>
    )}
    {id === 'breakout' && (
      <div class="grid grid-cols-4 gap-1 w-16">
        <div class="h-2 bg-red-500"></div>
        <div class="h-2 bg-red-500"></div>
        <div class="h-2 bg-red-500"></div>
        <div class="h-2 bg-red-500"></div>
      </div>
    )}
  </div>
  
  <h3 class="text-white pixel-font text-sm mb-2">{title}</h3>
  <p class="text-gray-400 text-xs">{description}</p>
  <button class={`mt-2 w-full ${bgClass} text-xs py-2 pixel-font text-white rounded`}>
    JUGAR
  </button>
</div>

<script>
  document.querySelectorAll('[data-game-card]').forEach((card) => {
    card.addEventListener('click', () => {
      const gameId = card.getAttribute('data-game-card');
      if (gameId) {
        window.dispatchEvent(new CustomEvent('selectGame', { detail: gameId }));
        document.getElementById('arcade')?.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
</script>