---
const games = [
  {
    id: 'snake',
    title: 'NEON SNAKE',
    description: 'Cl√°sico atemporal.',
    color: 'green',
    display: 'SNAKE'
  },
  {
    id: 'pacman',
    title: 'PAC-GHOST',
    description: 'Come los puntos.',
    color: 'yellow',
    display: 'PAC-GHOST'
  },
  {
    id: 'space',
    title: 'GALACTIC',
    description: 'Defiende la tierra.',
    color: 'cyan',
    display: 'GALACTIC'
  },
  {
    id: 'breakout',
    title: 'BREAKER',
    description: 'Rompe los muros.',
    color: 'pink',
    display: 'BREAKER'
  }
];
---

<section id="library" class="py-12 container mx-auto px-4">
  <h2 class="text-2xl md:text-3xl text-yellow-400 pixel-font mb-8 text-center glow-text">
    CAT√ÅLOGO DE JUEGOS
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    {games.map((game) => (
      <div
        data-game-card={game.id}
        class={`bg-gray-800 border-2 border-${game.color}-500 p-4 rounded hover:scale-105 transition transform cursor-pointer hover:bg-gray-700`}
      >
        <div class="h-32 bg-black flex items-center justify-center mb-4 border border-gray-700">
          {game.id === 'snake' && (
            <div class="text-green-500 text-4xl pixel-font">{game.display}</div>
          )}
          {game.id === 'pacman' && (
            <div class="text-yellow-400 text-5xl">üëª</div>
          )}
          {game.id === 'space' && (
            <div class="text-cyan-400 text-5xl">üöÄ</div>
          )}
          {game.id === 'breakout' && (
            <div class="grid grid-cols-4 gap-1 w-16">
              <div class="h-2 bg-red-500"></div>
              <div class="h-2 bg-red-500"></div>
              <div class="h-2 bg-red-500"></div>
              <div class="h-2 bg-red-500"></div>
            </div>
          )}
        </div>
        
        <h3 class="text-white pixel-font text-sm mb-2">{game.title}</h3>
        <p class="text-gray-400 text-xs">{game.description}</p>
        <button class={`mt-2 w-full bg-${game.color}-600 text-xs py-2 pixel-font text-white rounded`}>
          JUGAR
        </button>
      </div>
    ))}
  </div>
</section>

<script>
  document.querySelectorAll('[data-game-card]').forEach((card) => {
    card.addEventListener('click', () => {
      const gameId = card.getAttribute('data-game-card');
      if (gameId) {
        window.dispatchEvent(new CustomEvent('selectGame', { detail: gameId }));
        document.getElementById('arcade')?.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
</script>